<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TikTok Swipe Feed â€” Scroll + Play/Pause</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body {
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: #000;
      font-family: Arial, sans-serif;
    }

    #videoContainer {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .video-slide {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0; left: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      transform: scale(0.98);
      transition: opacity 0.4s ease, transform 0.4s ease;
      pointer-events: none;
    }

    .video-slide.active {
      opacity: 1;
      transform: scale(1);
      z-index: 10;
      pointer-events: auto;
    }

    blockquote.tiktok-embed {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    iframe {
      width: 100vw !important;
      height: 100vh !important;
      border: none;
    }

    .overlay {
      position: absolute;
      bottom: 20px;
      left: 20px;
      padding: 8px 14px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      border-radius: 8px;
    }

    .interaction-layer {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: 999;
      cursor: pointer;
    }

    .hint {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0,0,0,0.4);
      color: #fff;
      padding: 6px 10px;
      border-radius: 8px;
      font-size: 13px;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div id="videoContainer" tabindex="0" aria-label="Video feed"></div>
  <div class="interaction-layer" id="interactionLayer"></div>

  <script async src="https://www.tiktok.com/embed.js"></script>

  <script>
    const tiktokLinks = [
  "https://www.tiktok.com/@nada.mo0hammed/video/7558901545673231624",
  "https://www.tiktok.com/@6zx1i/video/7559254951399099665",
  "https://www.tiktok.com/@974twin/video/7556651158970895638",
  "https://www.tiktok.com/@i.amkafa/video/7552225323413179666",
  "https://www.tiktok.com/@odontorisas_/video/7556325910849359126",
  "https://www.tiktok.com/@extramediummedia/video/7552959788741561631",
  "https://www.tiktok.com/@fikrh.qa/video/7536163784298155271",
  "https://www.tiktok.com/@i3bu3/video/7559753715868060935",
  "https://www.tiktok.com/@a_triokw/video/7529192546866564353",
  "https://www.tiktok.com/@zubaidashbeb/video/7557391686674992402",
  "https://www.tiktok.com/@elshaf3i_vc/video/7548198854227676423",
  "https://www.tiktok.com/@ibrrahiem/video/7541669887014358290",
  "https://www.tiktok.com/@youssef.kw8/video/7560770679172369682",
  "https://www.tiktok.com/@chif0u/video/7556172077124848918",
  "https://www.tiktok.com/@s_70884/video/7556292084857195784",
  "https://www.tiktok.com/@rissaross22/video/7556334339647081758",
  "https://www.tiktok.com/@fza_92/video/7539626746505678088",
  "https://www.tiktok.com/@yandjs.coffee/video/7546054750152723728",
  "https://www.tiktok.com/@huda_m24/video/7531875747779087634",
  "https://www.tiktok.com/@hendodz/video/7560442680350625044",
  "https://www.tiktok.com/@maryaam.9.4/video/7424585564055145735",
  "https://www.tiktok.com/@smoo_h/video/7558501097455848712",
  "https://www.tiktok.com/@1ethraa/video/7447171376328232214",
  "https://www.tiktok.com/@towt8_8/video/7541148711968197893",
  "https://www.tiktok.com/@the_arabicmotivation/video/7177074370395917569",
  "https://www.tiktok.com/@ralomm/video/7425731685200694535",
  "https://www.tiktok.com/@le7_n6/video/7313626923618356481"
];


    const container = document.getElementById('videoContainer');
    const overlay = document.getElementById('interactionLayer');
    let currentIndex = 0;

    // Build slides
    tiktokLinks.forEach((link, i) => {
      const slide = document.createElement('div');
      slide.className = 'video-slide' + (i === 0 ? ' active' : '');
      const videoId = (link.split('/video/')[1] || '').split('?')[0];
      slide.innerHTML = `
        <blockquote class="tiktok-embed" cite="${link}" data-video-id="${videoId}" style="width:100%;height:100%;">
          <section></section>
        </blockquote>
        <div class="overlay">Video ${i + 1}</div>
      `;
      container.appendChild(slide);
    });

    function showIndex(newIndex) {
      const slides = document.querySelectorAll('.video-slide');
      if (newIndex < 0 || newIndex >= slides.length || newIndex === currentIndex) return;
      slides[currentIndex].classList.remove('active');
      slides[newIndex].classList.add('active');
      currentIndex = newIndex;
    }

    function showNext() { showIndex(currentIndex + 1); }
    function showPrev() { showIndex(currentIndex - 1); }

    /* ---------- Touch swipe ---------- */
    let touchStartY = 0;
    overlay.addEventListener('touchstart', e => {
      if (e.touches && e.touches[0]) touchStartY = e.touches[0].clientY;
    }, { passive: true });

    overlay.addEventListener('touchend', e => {
      if (!e.changedTouches || !e.changedTouches[0]) return;
      const endY = e.changedTouches[0].clientY;
      const delta = endY - touchStartY;
      if (Math.abs(delta) < 40) return;
      if (delta < 0) showNext(); else showPrev();
    }, { passive: true });

    /* ---------- Mouse scroll ---------- */
    let lastScroll = 0;
    overlay.addEventListener('wheel', e => {
      e.preventDefault();
      const now = Date.now();
      if (now - lastScroll < 600) return;
      if (e.deltaY > 0) showNext(); else showPrev();
      lastScroll = now;
    }, { passive: false });

    /* ---------- Keyboard navigation ---------- */
    window.addEventListener('keydown', e => {
      if (e.key === 'ArrowDown' || e.key === 'PageDown') { showNext(); e.preventDefault(); }
      if (e.key === 'ArrowUp' || e.key === 'PageUp') { showPrev(); e.preventDefault(); }
    });

    /* ---------- Mouse drag ---------- */
    let isDragging = false;
    let startY = 0;
    overlay.addEventListener('pointerdown', e => {
      isDragging = true;
      startY = e.clientY;
    });
    overlay.addEventListener('pointerup', e => {
      if (!isDragging) return;
      isDragging = false;
      const delta = e.clientY - startY;
      if (Math.abs(delta) < 50) return;
      if (delta < 0) showNext(); else showPrev();
    });

    /* ---------- Click to toggle play/pause ---------- */
    overlay.addEventListener('click', () => {
      const slide = document.querySelector('.video-slide.active iframe');
      if (!slide) return;

      // Toggle overlay visibility for manual interaction
      if (overlay.style.pointerEvents === 'none') {
        overlay.style.pointerEvents = 'auto';
      } else {
        overlay.style.pointerEvents = 'none';
        setTimeout(() => overlay.style.pointerEvents = 'auto', 4000); // re-enable after 4s
      }
    });
  </script>
</body>
</html>
